# L5系统调用的实现

💫硬件不让调用：

- 分割内存两个区域：内核段和用户段
- 内核段需要内核态使用

❤dpl目标内存段的特权级

`DPL`目标区域的特权级，0内核特权级，3用户的特权级

`CPL` 当前区域特权级

**检查** `DPL <= CPL`



硬件提供了唯一的方法进入内核——中断🧡🧡

`INT`指令 `open()->INT`

**系统调用的核心**

`INT 0X80`



```
MOV __NR_write %eax
```

将一个系统调用号置给`%eax`，然后调用`INT 0X80`



宏展开😜



# `INT 0X80`

通过`IDT`表找到中断转至哪个地方执行

`IDT -> 中断处理函数`