# 计算机组成原理 02 | 进制运算

## 整数的原码、反码和补码

### 整数原码

无符号数的源码：本身

有符号数的源码：需要在其前面添加0或1（符号位放置数字位的前面）

| 操作数 | 原码     |
| ------ | -------- |
| +237   | 01101101 |
| -237   | 11101101 |

说明：

- **0 具有两种表示方法：00 10 **
- 当两个操作数符号不同的时候，运算复杂

利用原码运算比较复杂，因此需要找到更方便的编码，简化操作数运算形式，该编码应该具有以下几点特性：

1. 能够用正数替代负数运算
2. 使用加法操作替代减法操作，消除减法操作

------

### 整数补码

补码存在上述的特性1。

补码的定义如式(1)：
$$
x = \begin{cases}
x & \text{ if } 2^n >x \geqslant 0\\ 
2^{n+1} + x & \text{ if } 0>x>-2^{n} 
\end{cases}
$$


| 操作数 | 原码  | 补码  |
| ------ | ----- | ----- |
| +13    | 01101 | 01101 |
| -13    | 11101 | 10011 |

-13的补码求解如公式(2)：
$$
2^{n+1} + x = 2^{(4+1)}-13=100000-1101=10011
$$
引入补码解决了特性1，完成使用正数替代负数，特性2并未实现，需要引入反码才能实现

### 整数反码

反码的作用：找出原码与补码的关系，消除减法

反码公式如式(3)
$$
x = \begin{cases}
x & \text{ if } 2^n >x \geqslant 0\\ 
2^{n+1}-1 + x & \text{ if } 0>x>-2^{n} 
\end{cases}
$$

| 操作数 | 原码  | 反码  |
| ------ | ----- | ----- |
| +13    | 01101 | 01101 |
| -13    | 11101 | 10010 |

### 总结

正数：原码 == 反码 == 补码

负数：

- 负数的反码：除符号位外按位取反
- 负数的补码：反码+1

------

## 小数的原码、反码和补码

### 小数补码

定义：
$$
x = \begin{cases}
x & \text{ if } 1 >x \geqslant 0\\ 
2^{n+1}-1 + x & \text{ if } 0>x \geqslant -1
\end{cases}
$$

| 操作数           | 原码      | 反码      | 补码      |
| ---------------- | --------- | --------- | --------- |
| $\frac{9}{16}$   | 0 0.1001  | 0 0.1001  | 0 0.1001  |
| $-\frac{11}{32}$ | 1 0.01011 | 1 1.10100 | 1 1.10101 |

------

## 定点数与浮点数

### 定点数

定点数：小数点固定在某一位置的数称为定点数（小数点默认位置）

两种表示方法

![image-20200903103950989](/Users/xuepipi/Library/Application Support/typora-user-images/image-20200903103950989.png)

若不是纯小数或者纯整数：**乘比例因子以满足定点数的保存格式**

### 浮点数

产生背景：

- 计算机处理的很大程度不是纯小数或者纯整数
- 数据范围很大，定点数难以表达

#### 浮点数的表示格式

$$
N = S * r^{j}
$$

- S：尾数
- r：基数
- j：阶码

浮点数在计算机的存储形式如下表：



| 原始数字                       | 阶码的符号位 | 阶码的数值位 | 尾数的符号位 | 尾数的数值位 |
| ------------------------------ | ------------ | ------------ | ------------ | ------------ |
| $11.0101 = 0.110101 * 2^{10}$  | 0            | 10           | 0            | 110101(00)   |
| $11.0101 = 0.0110101 * 2^{11}$ | 0            | 11           | 0            | 0110101(0)   |

注意：

- **尾数**必须使用纯小数

#### 浮点数的表示范围

阶码区间：$[-(2^{m}-1),2^{m}-1]$

尾数区间：（考虑负数）$[-(1-2^{-n}),-(2^{-n})]$ | $[2^{-n},1-2^{-n}]$

## 加法的原理

## 减法的原理

## 乘法的原理

## 除法的原理

## 开根号的原理